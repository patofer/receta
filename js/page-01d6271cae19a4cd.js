(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[608],{2617:function(e,t,s){Promise.resolve().then(s.bind(s,6440)),Promise.resolve().then(s.bind(s,197))},6440:function(e,t,s){"use strict";s.r(t),s.d(t,{ModalInvalidDocument:function(){return i}});var l=s(7437),a=s(2265),r=s(5990),n=s(9806);let i=()=>{let e=(0,r.useModal)(),t=()=>{window.location.href="https://api.whatsapp.com/send/?phone=".concat("56948042543")};return(0,a.useEffect)(()=>{null==e||e.show((0,l.jsx)("div",{className:"flex flex-col bg-white justify-center items-center align-middle px-6  rounded-xl",children:(0,l.jsxs)("div",{className:"flex  flex-col mb-8 ",children:[(0,l.jsxs)("div",{className:"flex justify-between flex-row items-center",children:[(0,l.jsx)("h1",{className:"text-[#FF0000] mt-7 mr-10 text-left font-bold text-3xl",children:"Documento No V\xe1lido"}),(0,l.jsx)(n.Z,{size:50,className:"text-[#FF0000]  mt-4 "})]}),(0,l.jsx)("div",{className:"flex justify-center flex-col",children:(0,l.jsx)("button",{className:"text-primary text-center justify-center bg-white border  border-primary mt-10 py-2 w-full rounded-sm",onClick:t,children:"CONTACTANOS"})})]})}))},[]),null}},197:function(e,t,s){"use strict";s.r(t),s.d(t,{ModalDocumentValidate:function(){return M}});var l=s(7437),a=s(2265),r=s(5990),n=s(3157);let i=()=>{let e=(0,r.useModal)(),[t,s]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{null==e||e.show((0,l.jsx)("div",{className:"flex flex-col bg-white justify-center items-center align-middle px-6  rounded-xl",children:(0,l.jsxs)("div",{className:"flex  flex-col mb-8 ",children:[(0,l.jsxs)("div",{className:"flex justify-between flex-row items-center",children:[(0,l.jsx)("h1",{className:"text-primary mt-7 mr-10 text-left font-bold text-3xl",children:"Receta Dispensada"}),(0,l.jsx)(n.Z,{size:50,className:"text-primary  mt-4 "})]}),(0,l.jsxs)("div",{className:"flex justify-center flex-col",children:[(0,l.jsx)("p",{className:"text-xs text-left text-primary",children:"Servicio al Cliente Medismart"}),(0,l.jsx)("p",{className:"text-base mt-6 p-1 text-[#333333] text-center",children:"La receta ha sido dispensado con \xe9xito."}),null!=t?t:(0,l.jsx)("button",{className:"text-white text-center justify-center bg-primary mt-10 py-2 w-full rounded-sm",onClick:()=>s(!1),children:"ENTENDIDO"})]})]})}))},[]),null};var c=s(6440);let o="https://api.medibuslive.com/prod/document";console.log("API_URL",o);let d=async(e,t,s,l)=>{console.log("documentId",e,"type",t,"reason",s,"email",l);try{let a=await fetch("".concat(o,"/blockQR"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentId:e,type:t,reason:s,email:l})});return await a.json()}catch(e){return console.log("cayo en el error",e),null}};var x=s(6280),m=s(7042),u=s(4769);function h(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,u.m6)((0,m.W)(t))}let f=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:r=!0,...n}=e;return(0,l.jsx)(x.f,{ref:t,decorative:r,orientation:a,className:h("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...n})});f.displayName=x.f.displayName;var p=s(304),j=s(3318);let N=e=>{let{description:t,type:s}=e;return"prescription"===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("h2",{className:"text-primary text-[20px] font-semibold",children:"Descripci\xf3n"}),t.medications.map((e,t)=>{var s,a;return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:null==e?void 0:null===(s=e.activeIngredient)||void 0===s?void 0:s.toLowerCase()}),(0,l.jsx)("p",{children:null==e?void 0:null===(a=e.dosage)||void 0===a?void 0:a.toLowerCase()})]},t)}),(0,l.jsx)(f,{}),(0,l.jsx)("h2",{className:"text-primary text-[20px] font-semibold",children:"Dispensaciones"}),(0,l.jsx)("ul",{className:"flex flex-col gap-4",children:t.dispensations.map((e,t)=>{let{date:s,_id:a}=e;return(0,l.jsxs)("li",{className:"list-disc list-inside",children:["Dispensaci\xf3n ",t+1," ",(0,p.WU)((0,j.D)(s),"dd/MM/yyyy")]},a)})})]}):"exam"===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("h2",{className:"text-primary text-[20px] font-semibold",children:"Descripci\xf3n"}),t.exams.map((e,t)=>{var s;return(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"text-base",children:null==e?void 0:null===(s=e.name)||void 0===s?void 0:s.toLowerCase()})},t)})]}):"certificate"===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("h2",{className:"text-primary text-[20px] font-semibold",children:"Descripci\xf3n"}),(0,l.jsx)("p",{className:"text-base",children:t.certificate.toLowerCase()})]}):"interconsultation"===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("h2",{className:"text-primary text-[20px] font-semibold",children:"Descripci\xf3n"}),(0,l.jsx)("p",{className:"text-base",children:t.interconsultation.name.toLowerCase()})]}):(0,l.jsx)("div",{children:(0,l.jsx)("p",{children:"Documento sin detalles"})})};var b=s(8129);let y=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,l.jsx)(b.fC,{className:h("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:t,children:(0,l.jsx)(b.bU,{className:h("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});y.displayName=b.fC.displayName;var v=s(4033),w=s(1865),g=s(1424);let C=()=>{let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(!1),c=(0,r.useModal)(),o=(0,v.useSearchParams)(),x=o.get("id"),m=o.get("type");if(!m||!x)throw Error("Se requiere id y type");let{register:u,handleSubmit:h,setValue:p,formState:{errors:j}}=(0,w.cI)({defaultValues:{documentId:x,type:m}}),N=h(async e=>{n(!0);try{await d(e.documentId,e.type,"dispensation",e.email),null==c||c.show((0,l.jsx)(i,{}))}catch(e){g.Am.error("Ocurri\xf3 un error")}finally{n(!1)}});return(0,l.jsx)("form",{onSubmit:N,children:(0,l.jsxs)("fieldset",{disabled:s,children:[(0,l.jsx)(f,{className:" mt-2 2xl:my-3"}),(0,l.jsxs)("div",{className:"flex flex-row items-center py-2",children:[(0,l.jsx)(y,{checked:e,onCheckedChange:s=>{s||p("email",void 0),t(!e)}}),(0,l.jsx)("p",{className:" pl-3 ",children:"Necesito una copia de la receta"})]}),(0,l.jsx)(f,{className:" mt-2 2xl:my-3"}),e&&(0,l.jsxs)("div",{className:"flex flex-col  pb-2",children:[(0,l.jsx)("label",{htmlFor:"email",className:"text-lg text-[#0081A4] font-semibold",children:"Ingresar correo"}),(0,l.jsx)("input",{type:"email",id:"email",className:"mt-1 p-2 border border-gray-300 rounded-sm",placeholder:"example@example.com",...u("email")})]}),(0,l.jsxs)("p",{className:"text-[#D62323] pb-2",children:[" ",(0,l.jsx)("strong",{children:"Advertencia:"})," Solo podr\xe1 dispensar el qu\xedmico farmac\xe9utico al momento de la entrega del f\xe1rmaco"]}),(0,l.jsx)("button",{type:"submit",className:"text-white text-center text-base justify-center bg-primary mt-3 2xl:mt-6 py-1 w-full rounded-sm  shadow-sm shadow-[#5867dd40]/50",children:"DISPENSAR"})]})})};var k=s(6995);let S=a.forwardRef((e,t)=>{let{className:s,children:a,...r}=e;return(0,l.jsxs)(k.fC,{ref:t,className:h("relative overflow-hidden",s),...r,children:[(0,l.jsx)(k.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,l.jsx)(D,{}),(0,l.jsx)(k.Ns,{})]})});S.displayName=k.fC.displayName;let D=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...r}=e;return(0,l.jsx)(k.gb,{ref:t,orientation:a,className:h("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:(0,l.jsx)(k.q4,{className:"relative flex-1 rounded-full bg-primary"})})});D.displayName=k.gb.displayName;let E=e=>{let{fullName:t,patientId:s,professional:r,professionalId:i,description:c,formattedDate:o,handleRadioChange:d,handleRetain:x,openWhatsApp:m,type:u}=e,[h,p]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:"flex flex-col bg-white justify-start  pl-12 pr-6 py-5 2xl:p-12 rounded-xl align-middle max-w-[700px]",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start 2xl:mb-6 ",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-primary font-bold text-[32px]",children:"Documento V\xe1lido"}),(0,l.jsxs)("div",{className:" flex   flex-row",children:[(0,l.jsx)("p",{className:"text-primary text-lg font-semibold",children:"Emisi\xf3n "}),(0,l.jsx)("p",{className:"text-[#0081A4] ml-1 text-lg",children:o})]})]}),(0,l.jsx)("div",{className:"ml-16",children:(0,l.jsx)(n.Z,{size:62,className:"text-primary w-[48px] h-[48px] 2xl:w-[60px] 2xl:h-[60px]"})})]}),(0,l.jsx)(S,{className:"flex max-h-[calc(100vh-200px)] flex-col pr-6",type:"always",children:(0,l.jsxs)("div",{className:"flex flex-col text-left w-full",children:[(0,l.jsx)("h2",{className:"text-primary text-[20px] font-semibold",children:"Paciente"}),(0,l.jsx)("p",{className:"font-semibold",children:t}),(0,l.jsx)("p",{className:"",children:s}),(0,l.jsx)(f,{className:" mt-2 2xl:my-3"}),(0,l.jsx)("h2",{className:"text-primary text-[20px] font-semibold ",children:"Profesional"}),(0,l.jsx)("p",{className:"font-semibold",children:r}),(0,l.jsx)("p",{children:i}),(0,l.jsx)(f,{className:" mt-2 2xl:my-3"}),(0,l.jsx)(N,{description:c,type:u}),"exam"===u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f,{className:" mt-2 2xl:my-3"}),(0,l.jsx)("h2",{className:"text-primary text-[20px] font-semibold",children:"Motivo de Retenci\xf3n"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"retention1",name:"retention",value:"controlled medication",onChange:d}),(0,l.jsx)("label",{htmlFor:"retention1",className:"ml-2",children:"Medicamento Controlado"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"retention2",name:"retention",value:"expired document",onChange:d}),(0,l.jsx)("label",{htmlFor:"retention2",className:"ml-2",children:"Documento Caducado"})]}),(0,l.jsx)("button",{className:"text-white text-center text-base justify-center bg-primary mt-3 2xl:mt-6 py-1 w-full rounded-sm  shadow-sm shadow-[#5867dd40]/50",onClick:x,children:"RETENER"})]}):null,"prescription"===u?(0,l.jsx)(C,{}):null,(0,l.jsx)("button",{className:"text-primary border border-primary  font-normal text-base text-center justify-center bg-white mt-2 py-1 w-full rounded-sm  shadow-sm shadow-[#5867dd40]/50 ",onClick:m,children:"CONTACTANOS"})]})})]})},M=e=>{let{documentId:t,type:s,date:n}=e,[o,x]=(0,a.useState)(""),[m,u]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),p=(0,r.useModal)(),j=new Date(n).toLocaleDateString("en-GB"),N=()=>{window.location.href="https://api.whatsapp.com/send/?phone=".concat("56948042543")};(0,a.useEffect)(()=>{(async()=>{m&&(console.log(t,s,o),f((await d(t,s,o)).success),u(!1))})()},[m,t,s,o]);let b=e=>{x(e.target.value)},y=()=>{u(!0)};return((0,a.useEffect)(()=>{null==p||p.show((0,l.jsx)(E,{...e,formattedDate:j,handleRadioChange:b,handleRetain:y,openWhatsApp:N}))},[]),h)?h?(0,l.jsx)(i,{}):(0,l.jsx)(c.ModalInvalidDocument,{}):null}},5990:function(e,t,s){"use strict";s.r(t),s.d(t,{ModalProvider:function(){return i},useModal:function(){return c}});var l=s(7437),a=s(2265);function r(e){let{children:t,showModal:s,setShowModal:r}=e,n=(0,a.useRef)(null),i=(0,a.useCallback)(e=>{"Escape"===e.key&&r(!1)},[r]);return(0,a.useEffect)(()=>(document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)),[i]),(0,l.jsx)(l.Fragment,{children:s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:n,className:"fixed inset-0 z-50 min-h-screen items-center justify-center flex",children:t},"desktop-modal"),(0,l.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-100 bg-opacity-10 "},"desktop-backdrop")]})})}let n=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,a.useState)(null),[c,o]=(0,a.useState)(!1);return(0,l.jsxs)(n.Provider,{value:{show:e=>{i(e),o(!0)},hide:()=>{o(!1),setTimeout(()=>{i(null)},200)}},children:[t,c&&(0,l.jsx)(r,{showModal:c,setShowModal:o,children:s})]})}function c(){return(0,a.useContext)(n)}}},function(e){e.O(0,[409,111,971,938,744],function(){return e(e.s=2617)}),_N_E=e.O()}]);